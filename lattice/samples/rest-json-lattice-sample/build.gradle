plugins {
    id 'com.flipkart.krystal' version "${krystal_version}"
    id 'io.quarkus' version "${quarkus_version}"
}

dependencies {
    implementation 'io.quarkus:quarkus-core'
    implementation 'io.quarkus:quarkus-arc'
    implementation 'io.vertx:vertx-web'

    implementation project(':krystal-common')
    implementation project(':lattice:extensions:guice:lattice-guice-servlet')
    implementation project(':lattice:extensions:rest:lattice-rest-quarkus')
    implementation project(':lattice:lattice-core')
    implementation project(':vajram:extensions:json:vajram-json')
    implementation project(':vajram:vajram-java-sdk')

    api platform("io.quarkus.platform:quarkus-bom:${quarkus_version}")

    runtimeOnly 'jakarta.servlet:jakarta.servlet-api'

    implementation 'com.google.inject.extensions:guice-servlet'
    implementation 'com.google.protobuf:protobuf-java'
    implementation 'jakarta.inject:jakarta.inject-api'
    implementation 'javax.annotation:javax.annotation-api'

    annotationProcessor 'com.flipkart.krystal.lattice:lattice-codegen'
    annotationProcessor 'com.flipkart.krystal.lattice:lattice-guice-codegen'
    annotationProcessor 'com.flipkart.krystal.lattice:lattice-json-codegen'
    annotationProcessor 'com.flipkart.krystal.lattice:lattice-rest-quarkus-codegen'
    annotationProcessor 'com.flipkart.krystal.lattice:lattice-rest-codegen'
    annotationProcessor 'com.flipkart.krystal:vajram-codegen'
    annotationProcessor 'com.flipkart.krystal:vajram-json'
    annotationProcessor 'com.flipkart.krystal:vajram-json-codegen'

    testImplementation project(':vajram:extensions:guice:vajram-guice')
    testImplementation project(':vajram:vajram-krystex')

}

extraJavaModuleInfo {
    failOnMissingModuleInfo = false
}
